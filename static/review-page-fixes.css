/* TorWAR Review Page Dark Mode Fixes */
/* Author: Mohamed Toraif */
/* Specific fixes for review pillar page white background issues */

/* ===== PROGRESS CONTAINER FIXES ===== */
[data-theme="dark"] .progress-container {
    background-color: var(--bg-secondary, #1e1e1e) !important;
    color: var(--text-primary, #ffffff) !important;
    border-bottom-color: var(--border-color, #404040) !important;
}

/* Force override any inline or template styles */
[data-theme="dark"] .progress-container * {
    color: var(--text-primary, #ffffff) !important;
}

/* ===== HELP PANEL FIXES ===== */
[data-theme="dark"] .help-panel {
    background-color: var(--bg-secondary, #1e1e1e) !important;
    border-left-color: var(--link-color, #58a6ff) !important;
    color: var(--text-primary, #ffffff) !important;
}

[data-theme="dark"] .help-section {
    background-color: transparent !important;
    color: var(--text-primary, #ffffff) !important;
}

[data-theme="dark"] .help-title {
    color: var(--link-color, #58a6ff) !important;
    background-color: transparent !important;
}

[data-theme="dark"] .help-content {
    color: var(--text-secondary, #e0e0e0) !important;
    background-color: transparent !important;
}

/* ===== BEST PRACTICE ITEMS FIXES ===== */
[data-theme="dark"] .best-practice-item {
    background-color: var(--bg-tertiary, #2d2d2d) !important;
    border-color: var(--border-color, #404040) !important;
    color: var(--text-primary, #ffffff) !important;
}

[data-theme="dark"] .best-practice-item * {
    color: var(--text-primary, #ffffff) !important;
    background-color: transparent !important;
}

/* ===== QUESTION CARD ADDITIONAL FIXES ===== */
[data-theme="dark"] .question-card {
    background-color: var(--card-bg, #1e1e1e) !important;
    border-color: var(--border-color, #404040) !important;
    color: var(--text-primary, #ffffff) !important;
}

[data-theme="dark"] .question-card * {
    color: inherit !important;
}

[data-theme="dark"] .question-card .card-header {
    background-color: var(--bg-tertiary, #2d2d2d) !important;
    border-color: var(--border-color, #404040) !important;
    color: var(--text-primary, #ffffff) !important;
}

[data-theme="dark"] .question-card .card-body {
    background-color: var(--card-bg, #1e1e1e) !important;
    color: var(--text-primary, #ffffff) !important;
}

/* ===== FORCE OVERRIDE ANY HARDCODED STYLES ===== */
[data-theme="dark"] .progress-container,
[data-theme="dark"] .help-panel,
[data-theme="dark"] .help-section,
[data-theme="dark"] .help-title,
[data-theme="dark"] .help-content,
[data-theme="dark"] .best-practice-item {
    background-color: var(--bg-secondary, #1e1e1e) !important;
    color: var(--text-primary, #ffffff) !important;
}

/* Specific overrides for elements that might have white backgrounds */
[data-theme="dark"] [style*="background-color: white"],
[data-theme="dark"] [style*="background-color: #ffffff"],
[data-theme="dark"] [style*="background-color: #f8f9fa"] {
    background-color: var(--bg-secondary, #1e1e1e) !important;
    color: var(--text-primary, #ffffff) !important;
}

/* ===== PROGRESS BAR SPECIFIC FIXES ===== */
[data-theme="dark"] .progress {
    background-color: var(--bg-tertiary, #2d2d2d) !important;
}

[data-theme="dark"] .progress-bar {
    background-color: var(--link-color, #58a6ff) !important;
    color: #ffffff !important;
}

/* ===== BADGE FIXES IN PROGRESS AREA ===== */
[data-theme="dark"] .progress-container .badge {
    background-color: var(--link-color, #58a6ff) !important;
    color: #ffffff !important;
}

/* ===== STICKY ELEMENTS FIXES ===== */
[data-theme="dark"] [style*="position: sticky"] {
    background-color: var(--bg-secondary, #1e1e1e) !important;
    color: var(--text-primary, #ffffff) !important;
}

/* ===== ADDITIONAL SAFETY OVERRIDES ===== */
[data-theme="dark"] .container-fluid,
[data-theme="dark"] .row,
[data-theme="dark"] .col,
[data-theme="dark"] [class*="col-"] {
    background-color: transparent !important;
}

/* Ensure all text in these sections is visible */
[data-theme="dark"] .progress-container *,
[data-theme="dark"] .help-panel *,
[data-theme="dark"] .help-section *,
[data-theme="dark"] .best-practice-item * {
    color: var(--text-primary, #ffffff) !important;
}

/* Links in help sections */
[data-theme="dark"] .help-panel a,
[data-theme="dark"] .help-content a {
    color: var(--link-color, #58a6ff) !important;
}

[data-theme="dark"] .help-panel a:hover,
[data-theme="dark"] .help-content a:hover {
    color: var(--link-hover, #79c0ff) !important;
}

/* ===== RESPONSIVE FIXES ===== */
@media (max-width: 768px) {
    [data-theme="dark"] .help-panel {
        position: static !important;
        background-color: var(--bg-secondary, #1e1e1e) !important;
        margin-top: 1rem;
    }
    
    [data-theme="dark"] .progress-container {
        position: static !important;
        background-color: var(--bg-secondary, #1e1e1e) !important;
    }
}
