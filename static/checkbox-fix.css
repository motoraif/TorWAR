/* TorWAR Checkbox Fix for Dark Mode */
/* Author: Mohamed Toraif */
/* Fixes checkbox visibility issues caused by universal dark override */

/* AGGRESSIVE CHECKBOX FIXES - HIGHEST PRIORITY */
input[type="checkbox"],
input[type="radio"],
.form-check-input,
input.form-check-input {
    background-color: #ffffff !important;
    border: 2px solid #6c757d !important;
    width: 1.25em !important;
    height: 1.25em !important;
    margin-top: 0.125em !important;
    vertical-align: top !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    background-size: contain !important;
    appearance: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
    flex-shrink: 0 !important;
    display: inline-block !important;
    position: relative !important;
    opacity: 1 !important;
    visibility: visible !important;
}

/* Dark mode specific overrides */
[data-theme="dark"] input[type="checkbox"],
[data-theme="dark"] input[type="radio"],
[data-theme="dark"] .form-check-input,
[data-theme="dark"] input.form-check-input {
    background-color: #ffffff !important;
    border: 2px solid #6c757d !important;
    color: #000000 !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: inline-block !important;
}

/* Checked state */
input[type="checkbox"]:checked,
.form-check-input:checked,
input.form-check-input:checked {
    background-color: #0d6efd !important;
    border-color: #0d6efd !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e") !important;
}

[data-theme="dark"] input[type="checkbox"]:checked,
[data-theme="dark"] .form-check-input:checked,
[data-theme="dark"] input.form-check-input:checked {
    background-color: #0d6efd !important;
    border-color: #0d6efd !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e") !important;
}

/* Radio button specific */
input[type="radio"] {
    border-radius: 50% !important;
}

input[type="radio"]:checked {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e") !important;
}

[data-theme="dark"] input[type="radio"] {
    border-radius: 50% !important;
}

[data-theme="dark"] input[type="radio"]:checked {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e") !important;
}

/* Focus states */
input[type="checkbox"]:focus,
input[type="radio"]:focus,
.form-check-input:focus {
    border-color: #86b7fe !important;
    outline: 0 !important;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25) !important;
}

[data-theme="dark"] input[type="checkbox"]:focus,
[data-theme="dark"] input[type="radio"]:focus,
[data-theme="dark"] .form-check-input:focus {
    border-color: #86b7fe !important;
    outline: 0 !important;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25) !important;
}

/* SPECIFIC FIXES FOR SELECT PILLARS PAGE */
/* Target the exact structure on select_pillars.html */
.pillar-card .form-check-input,
.pillar-card input[type="checkbox"],
#pillar-operationalExcellence,
#pillar-security,
#pillar-reliability,
#pillar-performance,
#pillar-costOptimization,
#pillar-sustainability {
    background-color: #ffffff !important;
    border: 3px solid #6c757d !important;
    width: 1.5em !important;
    height: 1.5em !important;
    display: inline-block !important;
    opacity: 1 !important;
    visibility: visible !important;
    position: relative !important;
    z-index: 10 !important;
    margin-right: 0.5rem !important;
}

[data-theme="dark"] .pillar-card .form-check-input,
[data-theme="dark"] .pillar-card input[type="checkbox"],
[data-theme="dark"] #pillar-operationalExcellence,
[data-theme="dark"] #pillar-security,
[data-theme="dark"] #pillar-reliability,
[data-theme="dark"] #pillar-performance,
[data-theme="dark"] #pillar-costOptimization,
[data-theme="dark"] #pillar-sustainability {
    background-color: #ffffff !important;
    border: 3px solid #6c757d !important;
    color: #000000 !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: inline-block !important;
}

.pillar-card .form-check-input:checked,
.pillar-card input[type="checkbox"]:checked,
#pillar-operationalExcellence:checked,
#pillar-security:checked,
#pillar-reliability:checked,
#pillar-performance:checked,
#pillar-costOptimization:checked,
#pillar-sustainability:checked {
    background-color: #0d6efd !important;
    border-color: #0d6efd !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e") !important;
}

[data-theme="dark"] .pillar-card .form-check-input:checked,
[data-theme="dark"] .pillar-card input[type="checkbox"]:checked,
[data-theme="dark"] #pillar-operationalExcellence:checked,
[data-theme="dark"] #pillar-security:checked,
[data-theme="dark"] #pillar-reliability:checked,
[data-theme="dark"] #pillar-performance:checked,
[data-theme="dark"] #pillar-costOptimization:checked,
[data-theme="dark"] #pillar-sustainability:checked {
    background-color: #0d6efd !important;
    border-color: #0d6efd !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e") !important;
}

/* Form check container fixes */
.form-check {
    display: block !important;
    min-height: 1.5rem !important;
    padding-left: 1.5em !important;
    margin-bottom: 0.125rem !important;
}

[data-theme="dark"] .form-check {
    display: block !important;
    min-height: 1.5rem !important;
    padding-left: 1.5em !important;
    margin-bottom: 0.125rem !important;
}

.form-check .form-check-input {
    float: left !important;
    margin-left: -1.5em !important;
}

[data-theme="dark"] .form-check .form-check-input {
    float: left !important;
    margin-left: -1.5em !important;
}

.form-check-label {
    cursor: pointer !important;
}

[data-theme="dark"] .form-check-label {
    color: var(--text-primary) !important;
    cursor: pointer !important;
    background-color: transparent !important;
}

/* Emergency fallback - make checkboxes visible with basic styling */
input {
    opacity: 1 !important;
    visibility: visible !important;
}

[data-theme="dark"] input {
    opacity: 1 !important;
    visibility: visible !important;
}

/* Debug styles - temporary red border to see if checkboxes exist */
/*
input[type="checkbox"] {
    border: 3px solid red !important;
    background-color: yellow !important;
}
*/
