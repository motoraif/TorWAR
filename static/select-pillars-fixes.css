/* TorWAR Select Pillars Page Fixes */
/* Author: Mohamed Toraif */
/* Fixes alignment and dark mode issues on select pillars page */

/* Fix pillar title alignment with checkbox */
[data-theme="dark"] .form-check {
    display: flex !important;
    align-items: flex-start !important;
    min-height: auto !important;
    padding-left: 0 !important;
    margin-bottom: 1rem !important;
}

[data-theme="dark"] .form-check .form-check-input {
    float: none !important;
    margin-left: 0 !important;
    margin-right: 0.75rem !important;
    margin-top: 0.25rem !important;
    flex-shrink: 0 !important;
}

[data-theme="dark"] .form-check-label {
    flex-grow: 1 !important;
    margin-bottom: 0 !important;
}

[data-theme="dark"] .form-check-label .card-title {
    margin-bottom: 0.5rem !important;
    line-height: 1.2 !important;
}

/* Fix black background areas in dark mode */
[data-theme="dark"] .alert-info {
    background-color: rgba(33, 150, 243, 0.1) !important;
    color: var(--text-primary) !important;
    border-color: var(--torwar-info) !important;
}

[data-theme="dark"] .alert-info strong {
    color: var(--text-primary) !important;
}

/* Fix progress badge backgrounds */
[data-theme="dark"] .progress-badge {
    color: white !important;
}

[data-theme="dark"] .progress-badge.bg-success {
    background-color: var(--torwar-success) !important;
    color: white !important;
}

[data-theme="dark"] .progress-badge.bg-warning {
    background-color: var(--torwar-warning) !important;
    color: #000000 !important;
}

[data-theme="dark"] .progress-badge.bg-info {
    background-color: var(--torwar-info) !important;
    color: white !important;
}

[data-theme="dark"] .progress-badge.bg-secondary {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

/* Fix progress info text */
[data-theme="dark"] .progress-info {
    color: var(--text-secondary) !important;
    background-color: transparent !important;
}

[data-theme="dark"] .progress-info small {
    color: var(--text-secondary) !important;
    background-color: transparent !important;
}

[data-theme="dark"] .progress-text {
    color: var(--text-secondary) !important;
    background-color: transparent !important;
}

[data-theme="dark"] .progress-text small {
    color: var(--text-secondary) !important;
    background-color: transparent !important;
}

/* Fix counter text */
[data-theme="dark"] .counter {
    color: inherit !important;
    background-color: transparent !important;
}

/* Fix generate report section */
[data-theme="dark"] .generate-report-section {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .generate-report-section h4 {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .generate-report-section p {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .generate-report-section small {
    color: var(--text-secondary) !important;
}

/* Fix card titles and text */
[data-theme="dark"] .card-title {
    color: var(--text-primary) !important;
    background-color: transparent !important;
}

[data-theme="dark"] .card-text {
    color: var(--text-primary) !important;
    background-color: transparent !important;
}

/* Fix pillar icons */
[data-theme="dark"] .pillar-icon i {
    background-color: transparent !important;
}

/* Fix any remaining black backgrounds */
[data-theme="dark"] .text-muted {
    color: var(--text-secondary) !important;
    background-color: transparent !important;
}

[data-theme="dark"] .small {
    color: var(--text-secondary) !important;
    background-color: transparent !important;
}

/* Fix progress bars */
[data-theme="dark"] .animated-progress {
    background-color: var(--bg-tertiary) !important;
}

[data-theme="dark"] .animated-progress-bar {
    background-color: var(--torwar-primary) !important;
}

[data-theme="dark"] .animated-progress-bar.bg-success {
    background-color: var(--torwar-success) !important;
}

[data-theme="dark"] .animated-progress-bar.bg-warning {
    background-color: var(--torwar-warning) !important;
}

[data-theme="dark"] .animated-progress-bar.bg-info {
    background-color: var(--torwar-info) !important;
}

[data-theme="dark"] .animated-progress-bar.bg-secondary {
    background-color: var(--bg-secondary) !important;
}

/* Fix button styling */
[data-theme="dark"] .btn-outline-primary {
    color: var(--torwar-primary) !important;
    border-color: var(--torwar-primary) !important;
    background-color: transparent !important;
}

[data-theme="dark"] .btn-outline-primary:hover {
    background-color: var(--torwar-primary) !important;
    color: white !important;
}

/* Ensure all spans and divs have proper backgrounds */
[data-theme="dark"] .pillar-card span,
[data-theme="dark"] .pillar-card div:not(.animated-progress):not(.animated-progress-bar) {
    background-color: transparent !important;
}

/* Fix specific elements that might have black backgrounds */
[data-theme="dark"] .badge {
    color: white !important;
}

[data-theme="dark"] .badge.bg-success {
    background-color: var(--torwar-success) !important;
    color: white !important;
}

[data-theme="dark"] .badge.bg-warning {
    background-color: var(--torwar-warning) !important;
    color: #000000 !important;
}

[data-theme="dark"] .badge.bg-info {
    background-color: var(--torwar-info) !important;
    color: white !important;
}

[data-theme="dark"] .badge.bg-secondary {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

/* Fix any remaining text elements */
[data-theme="dark"] .pillar-card * {
    background-color: transparent !important;
}

[data-theme="dark"] .pillar-card .card-body {
    background-color: var(--card-bg) !important;
}

[data-theme="dark"] .pillar-card {
    background-color: var(--card-bg) !important;
    border-color: var(--border-color) !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    [data-theme="dark"] .form-check {
        flex-direction: column !important;
        align-items: flex-start !important;
    }
    
    [data-theme="dark"] .form-check .form-check-input {
        margin-right: 0 !important;
        margin-bottom: 0.5rem !important;
    }
}
