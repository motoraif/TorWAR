/* TorWAR Complete Dark Mode Override */
/* Author: Mohamed Toraif */
/* Forces ALL backgrounds to dark and ALL text to white for complete consistency */

/* Universal dark mode application - exclude form inputs */
[data-theme="dark"] *:not(input):not(select):not(textarea):not(.form-check-input):not(.form-control):not(.form-select) {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

/* Body and main containers */
[data-theme="dark"] html,
[data-theme="dark"] body {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* All container elements */
[data-theme="dark"] .container,
[data-theme="dark"] .container-fluid,
[data-theme="dark"] .row,
[data-theme="dark"] .col,
[data-theme="dark"] .col-1,
[data-theme="dark"] .col-2,
[data-theme="dark"] .col-3,
[data-theme="dark"] .col-4,
[data-theme="dark"] .col-5,
[data-theme="dark"] .col-6,
[data-theme="dark"] .col-7,
[data-theme="dark"] .col-8,
[data-theme="dark"] .col-9,
[data-theme="dark"] .col-10,
[data-theme="dark"] .col-11,
[data-theme="dark"] .col-12 {
    background-color: transparent !important;
    color: var(--text-primary) !important;
}

/* All text elements */
[data-theme="dark"] p,
[data-theme="dark"] span,
[data-theme="dark"] div,
[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4,
[data-theme="dark"] h5,
[data-theme="dark"] h6,
[data-theme="dark"] li,
[data-theme="dark"] td,
[data-theme="dark"] th,
[data-theme="dark"] label,
[data-theme="dark"] a,
[data-theme="dark"] strong,
[data-theme="dark"] b,
[data-theme="dark"] em,
[data-theme="dark"] i,
[data-theme="dark"] small {
    color: var(--text-primary) !important;
    background-color: transparent !important;
}

/* All Bootstrap components */
[data-theme="dark"] .card {
    background-color: var(--card-bg) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .card-header,
[data-theme="dark"] .card-footer {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .card-body {
    background-color: var(--card-bg) !important;
    color: var(--text-primary) !important;
}

/* All Bootstrap backgrounds */
[data-theme="dark"] .bg-primary {
    background-color: var(--torwar-primary) !important;
    color: white !important;
}

[data-theme="dark"] .bg-secondary {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .bg-light {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .bg-dark {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .bg-white {
    background-color: var(--card-bg) !important;
    color: var(--text-primary) !important;
}

/* All Bootstrap text colors */
[data-theme="dark"] .text-primary {
    color: var(--torwar-primary) !important;
}

[data-theme="dark"] .text-secondary {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .text-success {
    color: var(--torwar-success) !important;
}

[data-theme="dark"] .text-danger {
    color: var(--torwar-danger) !important;
}

[data-theme="dark"] .text-warning {
    color: var(--torwar-warning) !important;
}

[data-theme="dark"] .text-info {
    color: var(--torwar-info) !important;
}

[data-theme="dark"] .text-light {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .text-dark {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .text-muted {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .text-white {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .text-black-50 {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .text-white-50 {
    color: var(--text-secondary) !important;
}

/* All form elements */
[data-theme="dark"] .form-control,
[data-theme="dark"] .form-select,
[data-theme="dark"] input,
[data-theme="dark"] textarea,
[data-theme="dark"] select {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

/* Fix checkboxes and radio buttons visibility */
[data-theme="dark"] .form-check-input {
    background-color: var(--bg-secondary) !important;
    border: 2px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .form-check-input:checked {
    background-color: var(--torwar-primary) !important;
    border-color: var(--torwar-primary) !important;
    color: white !important;
}

[data-theme="dark"] .form-check-input:focus {
    border-color: var(--torwar-primary) !important;
    box-shadow: 0 0 0 0.25rem rgba(0, 123, 255, 0.25) !important;
}

[data-theme="dark"] .form-check-input[type="checkbox"] {
    background-color: var(--bg-secondary) !important;
    border: 2px solid var(--border-color) !important;
}

[data-theme="dark"] .form-check-input[type="radio"] {
    background-color: var(--bg-secondary) !important;
    border: 2px solid var(--border-color) !important;
}

[data-theme="dark"] .form-control:focus,
[data-theme="dark"] .form-select:focus,
[data-theme="dark"] input:focus,
[data-theme="dark"] textarea:focus,
[data-theme="dark"] select:focus {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--torwar-primary) !important;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25) !important;
}

[data-theme="dark"] .form-control::placeholder,
[data-theme="dark"] input::placeholder,
[data-theme="dark"] textarea::placeholder {
    color: var(--text-muted) !important;
}

[data-theme="dark"] .form-label,
[data-theme="dark"] .form-text,
[data-theme="dark"] .form-check-label {
    color: var(--text-primary) !important;
    background-color: transparent !important;
}

/* All buttons */
[data-theme="dark"] .btn {
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .btn-primary {
    background-color: var(--torwar-primary) !important;
    color: white !important;
    border-color: var(--torwar-primary) !important;
}

[data-theme="dark"] .btn-secondary {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .btn-light {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .btn-dark {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .btn-outline-primary {
    color: var(--torwar-primary) !important;
    border-color: var(--torwar-primary) !important;
    background-color: transparent !important;
}

[data-theme="dark"] .btn-outline-secondary {
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
    background-color: transparent !important;
}

/* All tables */
[data-theme="dark"] .table {
    background-color: var(--card-bg) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .table th,
[data-theme="dark"] .table td {
    background-color: transparent !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .table-striped > tbody > tr:nth-of-type(odd) > td,
[data-theme="dark"] .table-striped > tbody > tr:nth-of-type(odd) > th {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .table-striped > tbody > tr:nth-of-type(even) > td,
[data-theme="dark"] .table-striped > tbody > tr:nth-of-type(even) > th {
    background-color: var(--card-bg) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .table-hover > tbody > tr:hover > td,
[data-theme="dark"] .table-hover > tbody > tr:hover > th {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

/* All list groups */
[data-theme="dark"] .list-group-item {
    background-color: var(--card-bg) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .list-group-item:hover {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .list-group-item.active {
    background-color: var(--torwar-primary) !important;
    color: white !important;
    border-color: var(--torwar-primary) !important;
}

/* All alerts */
[data-theme="dark"] .alert {
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .alert-primary {
    background-color: rgba(0, 123, 255, 0.1) !important;
    color: var(--text-primary) !important;
    border-color: var(--torwar-primary) !important;
}

[data-theme="dark"] .alert-secondary {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .alert-success {
    background-color: rgba(76, 175, 80, 0.1) !important;
    color: var(--text-primary) !important;
    border-color: var(--torwar-success) !important;
}

[data-theme="dark"] .alert-danger {
    background-color: rgba(244, 67, 54, 0.1) !important;
    color: var(--text-primary) !important;
    border-color: var(--torwar-danger) !important;
}

[data-theme="dark"] .alert-warning {
    background-color: rgba(255, 193, 7, 0.1) !important;
    color: var(--text-primary) !important;
    border-color: var(--torwar-warning) !important;
}

[data-theme="dark"] .alert-info {
    background-color: rgba(33, 150, 243, 0.1) !important;
    color: var(--text-primary) !important;
    border-color: var(--torwar-info) !important;
}

[data-theme="dark"] .alert-light {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .alert-dark {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

/* All navigation elements */
[data-theme="dark"] .navbar {
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .navbar-brand,
[data-theme="dark"] .navbar-nav .nav-link {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .navbar-nav .nav-link:hover {
    color: var(--torwar-primary) !important;
}

[data-theme="dark"] .navbar-nav .nav-link.active {
    color: var(--torwar-primary) !important;
}

[data-theme="dark"] .nav-tabs {
    border-bottom-color: var(--border-color) !important;
}

[data-theme="dark"] .nav-tabs .nav-link {
    color: var(--text-secondary) !important;
    background-color: transparent !important;
    border-color: transparent !important;
}

[data-theme="dark"] .nav-tabs .nav-link:hover {
    color: var(--text-primary) !important;
    background-color: var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .nav-tabs .nav-link.active {
    color: var(--text-primary) !important;
    background-color: var(--card-bg) !important;
    border-color: var(--border-color) var(--border-color) var(--card-bg) !important;
}

/* All breadcrumbs */
[data-theme="dark"] .breadcrumb {
    background-color: var(--bg-secondary) !important;
}

[data-theme="dark"] .breadcrumb-item a {
    color: var(--torwar-primary) !important;
}

[data-theme="dark"] .breadcrumb-item.active {
    color: var(--text-primary) !important;
}

/* All pagination */
[data-theme="dark"] .page-link {
    background-color: var(--card-bg) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .page-link:hover {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .page-item.active .page-link {
    background-color: var(--torwar-primary) !important;
    color: white !important;
    border-color: var(--torwar-primary) !important;
}

[data-theme="dark"] .page-item.disabled .page-link {
    background-color: var(--bg-secondary) !important;
    color: var(--text-muted) !important;
    border-color: var(--border-color) !important;
}

/* All modals */
[data-theme="dark"] .modal-content {
    background-color: var(--card-bg) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .modal-header {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-bottom-color: var(--border-color) !important;
}

[data-theme="dark"] .modal-body {
    background-color: var(--card-bg) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .modal-footer {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-top-color: var(--border-color) !important;
}

/* All dropdowns */
[data-theme="dark"] .dropdown-menu {
    background-color: var(--card-bg) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .dropdown-item {
    color: var(--text-primary) !important;
    background-color: transparent !important;
}

[data-theme="dark"] .dropdown-item:hover {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .dropdown-item.active {
    background-color: var(--torwar-primary) !important;
    color: white !important;
}

/* All accordions */
[data-theme="dark"] .accordion-item {
    background-color: var(--card-bg) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .accordion-button {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .accordion-button:not(.collapsed) {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .accordion-body {
    background-color: var(--card-bg) !important;
    color: var(--text-primary) !important;
}

/* All tooltips and popovers */
[data-theme="dark"] .tooltip .tooltip-inner {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .popover {
    background-color: var(--card-bg) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .popover-header {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border-bottom-color: var(--border-color) !important;
}

[data-theme="dark"] .popover-body {
    color: var(--text-primary) !important;
    background-color: var(--card-bg) !important;
}

/* All borders */
[data-theme="dark"] .border,
[data-theme="dark"] .border-top,
[data-theme="dark"] .border-bottom,
[data-theme="dark"] .border-start,
[data-theme="dark"] .border-end {
    border-color: var(--border-color) !important;
}

/* All shadows */
[data-theme="dark"] .shadow-sm {
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.4) !important;
}

[data-theme="dark"] .shadow {
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.4) !important;
}

[data-theme="dark"] .shadow-lg {
    box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.5) !important;
}

/* Override any remaining white backgrounds */
[data-theme="dark"] [style*="background-color: white"],
[data-theme="dark"] [style*="background-color: #fff"],
[data-theme="dark"] [style*="background-color: #ffffff"],
[data-theme="dark"] [style*="background: white"],
[data-theme="dark"] [style*="background: #fff"],
[data-theme="dark"] [style*="background: #ffffff"] {
    background-color: var(--card-bg) !important;
    color: var(--text-primary) !important;
}

/* Override any remaining black text */
[data-theme="dark"] [style*="color: black"],
[data-theme="dark"] [style*="color: #000"],
[data-theme="dark"] [style*="color: #000000"] {
    color: var(--text-primary) !important;
}

/* Special handling for selected answers - keep green theme but ensure visibility */
[data-theme="dark"] .selected-choice,
[data-theme="dark"] .answer-choice.selected,
[data-theme="dark"] .choice-selected {
    background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%) !important;
    color: #000000 !important;
    border: 2px solid #2e7d32 !important;
    font-weight: 600;
}

/* Special handling for risk containers - keep colored backgrounds but ensure text visibility */
[data-theme="dark"] .risk-high,
[data-theme="dark"] .bg-danger.risk-container {
    background: linear-gradient(135deg, #ff6b6b 0%, #ff8a80 100%) !important;
    color: #000000 !important;
    border: 2px solid #d32f2f !important;
}

[data-theme="dark"] .risk-medium,
[data-theme="dark"] .bg-warning.risk-container {
    background: linear-gradient(135deg, #ffb74d 0%, #ffcc02 100%) !important;
    color: #000000 !important;
    border: 2px solid #f57c00 !important;
}

[data-theme="dark"] .risk-low,
[data-theme="dark"] .bg-success.risk-container {
    background: linear-gradient(135deg, #81c784 0%, #a5d6a7 100%) !important;
    color: #000000 !important;
    border: 2px solid #388e3c !important;
}

[data-theme="dark"] .risk-none,
[data-theme="dark"] .bg-info.risk-container {
    background: linear-gradient(135deg, #64b5f6 0%, #90caf9 100%) !important;
    color: #000000 !important;
    border: 2px solid #1976d2 !important;
}

/* Ensure all text within risk containers is black */
[data-theme="dark"] .risk-high *,
[data-theme="dark"] .risk-medium *,
[data-theme="dark"] .risk-low *,
[data-theme="dark"] .risk-none * {
    color: #000000 !important;
}

/* Ensure all text within selected choices is black */
[data-theme="dark"] .selected-choice *,
[data-theme="dark"] .answer-choice.selected *,
[data-theme="dark"] .choice-selected * {
    color: #000000 !important;
}
